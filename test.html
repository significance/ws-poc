<!DOCTYPE html>
<html>
<head>
	<title></title>
	<script type="text/javascript">
		let listen2 = (openCallback, messageCallback) => {
			// Create WebSocket connection.
			const socket = new WebSocket('ws://localhost:8082/pss/subscribe/test-topic');

			// Connection opened
			socket.addEventListener('error', function (event) {
				console.log(event)
			});

			// Connection opened
			socket.addEventListener('open', function (event) {
				// openCallback();
				console.log(event);
			});

			// Listen for messages
			socket.addEventListener('message', async function (event) {
				// callback(event.data);
				console.log(await event.data.text());
			});
		}
	</script>
</head>
<body onload="listen2()">

</body>
</html>